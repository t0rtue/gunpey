<div class='contentWrapper ng-cloak'>

    <div class='content'>
        <div class="row-fluid">

            <div class="span3 board" style="margin-right:10px;">


<!--                   <input type="text" ng-model="filename"></input>
                  <button ng-click="editor.load()" class="btn btn-large" type="button">Load</button>
 -->
            <legend>Create</legend>

            <form class="form-inline">
                <label class="control-label" for="inputCol">Columns</label>
                <input type="number" ng-model="nbCol" min="3" max="11" class="input-mini"></input>
                <button ng-click="editor.reset()" class="btn" type="button"><i class="icon-repeat"></i> Reset</button>
            </form>
            <hr/>

              <!--
              Segment panel
            -->
            <div class="centered">
              <ul class="" style="margin:10px">
              <li ng-repeat="item in editPanel" style="display:inline-block" >
                <div
                    class="thumbnail"
                    ng-style="{background:item.type==0 ? 'rgba(255,0,0,0.2)' : ''}"
                    data-drag="true"
                    data-jqyoui-options="{revert: 'invalid', helper: 'original'}"
                    ng-model="item"
                    jqyoui-draggable="{index: {{$index}}, animate:false, placeholder: 'keep'}">
                  <img ng-show="item.type" src="img/{{item.type}}.png"  ></img>
                </div>
              </li>
             </ul>
             </div>
             <hr/>
            <div class="btn-group btn-group-lg centered" role="group" aria-label="controls">
                <button ng-click="editor.shuffle()" class="btn btn-large" type="button"><i class="icon-random"></i> Shuffle</button>
                <button ng-click="" class="btn btn-large" type="button" disabled><i class="icon-play"></i> Try</button>
            </div>
            <hr/>
            <div>
              Solution :
              <span ng-hide="puzzle.solution || notValid" style="color:grey;size:12px;font-style:italic">none</span>
              <i ng-show="puzzle.solution" class="icon-ok"></i>
              <span ng-show="notValid">not valid</span>
              <button ng-click="editor.tagSolution()" class="btn pull-right" type="button">
                <i class="icon-flag"></i> Current position
              </button>
              <hr/>
              Starting position :
              <span ng-hide="puzzle.start" style="color:grey;size:12px;font-style:italic">none</span>
              <i ng-show="puzzle.start" class="icon-ok"></i>
              <button ng-click="editor.tagStart()" class="btn pull-right" type="button">
                <i class="icon-flag"></i> Current position
              </button>
            </div>
            <hr/>

           </div>

            <div class="board" style="display:inline-block">

               <ul ng-repeat="column in board.matrix" class="pull-left column-{{id}}" ng-class="{'first-col':$first, 'last-col':$last}" ng-init="id=$index">
                    <li ng-repeat="item in column track by $index"
                        data-drop="true"
                        ng-model='column'
                        jqyoui-droppable="{index: {{$index}}, onDrop:'editor.dropCallback()'}"
                        data-jqyoui-options="{ hoverClass:'drop-hover'}">

                      <div
                          class="thumbnail on-col-{{id}}"
                          ng-class="{on:item.on}"
                          data-drag="true"
                          data-jqyoui-options="{revert: 'invalid'}"
                          ng-model="column"
                          jqyoui-draggable="{index: {{$index}},animate:true}">

                        <img ng-show="item.type" ng-attr-src="img/{{item.type}}{{item.on ? '_light' : ''}}.png" alt="..."></img>

                      </div>

                  </li>
               </ul>

            </div>

        </div> <!-- ROW -->
        <!-- <hr/> -->
        <div class="row-fluid">
            <form class="form-inline">
                <legend>Information</legend>
                <label class="control-label" for="inputName">Puzzle</label>
                <input ng-model="puzzle.name" type="text" id="inputName" maxlength="20" placeholder="Puzzle name" required>
                <label class="control-label" for="inputAuthor">created by</label>
                <input ng-model="puzzle.author" type="text" id="inputAuthor" placeholder="Author name">
            </form>
        </div>

        <div class="row-fluid">
            <legend>Share</legend>

            <div>
              <h4>Via twitter</h4>
              If you share using twitter, your puzzle will be automatically available after a few minutes in the Puzzle mode section!
              <br/>
              Your twitter login will be displayed as the author of the puzzle.
              <br/>
              <div class="alert">
                <strong>Warning!</strong> Do not edit the tweet message.
              </div>
                <a href="https://twitter.com/intent/tweet?button_hashtag=6%C2%B5np3%CE%BB&text={{puzzleStringData}}%20{{puzzle.name}}" class="btn btn-large btn-primary"><i class="icon-share icon-white"></i> Share the puzzle</a>
            </div>
            <br/>
            <div>
              <h4>Via mail</h4>
              You can mail me the following puzzle data at <a href="mailto:turtlelab@free.fr?subject=[puzzle]&body={{puzzle}}">turtlelab@free.fr</a> and I will add it, or send me the data the way you can... :p
              <br/>
              <br/>
              <form class="form">
                  <label class="control-label" for="inputData">Data (do not edit) : </label>
                  <textarea id="inputData" rows="1" placeholder="auto data">{{puzzle}}</textarea>
              </form>
            </div>
        </div>

    </div>

</div>
